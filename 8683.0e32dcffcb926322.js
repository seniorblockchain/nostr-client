"use strict";(self.webpackChunknostr=self.webpackChunknostr||[]).push([[8683],{8683:(O,v,o)=>{o.r(v),o.d(v,{ActivitiesModule:()=>s});var m=o(1390),p=o(7392),d=o(4466),l=o(1837),t=o(4650),u=o(1135),y=o(8505),A=o(529);class a{constructor(i){this._httpClient=i,this._activities=new u.X(null)}get activities(){return this._activities.asObservable()}getActivities(){return this._httpClient.get("api/pages/activities").pipe((0,y.b)(i=>{this._activities.next(i)}))}}a.\u0275fac=function(i){return new(i||a)(t.LFG(A.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"});var _=o(6895);function h(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"li",11)(2,"div",16),t._uU(3),t.ALo(4,"titlecase"),t.qZA()(),t.BQk()),2&n){const e=t.oxw().$implicit,c=t.oxw(3);t.xp6(3),t.hij(" ",t.lcZ(4,1,c.getRelativeFormat(e.date))," ")}}function T(n,i){1&n&&(t.ynx(0),t._UZ(1,"div",17),t.BQk())}function Z(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",18),t._UZ(2,"mat-icon",19),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("svgIcon",e.icon)}}function Q(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"img",20),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.image,t.LSH)("alt","Activity image")}}function C(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"div",21),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",e.description,t.oJD)}}function I(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"a",23),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("routerLink",e.link),t.xp6(1),t.hij(" ",e.linkedContent," ")}}function k(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"a",24),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("href",e.link,t.LSH),t.xp6(1),t.hij(" ",e.linkedContent," ")}}function w(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",22),t._uU(2,"\u2022"),t.qZA(),t.YNc(3,I,3,2,"ng-container",10),t.YNc(4,k,3,2,"ng-container",10),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",e.useRouter),t.xp6(1),t.Q6J("ngIf",!e.useRouter)}}function J(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"div",25),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",e.extraContent,t.oJD)}}function B(n,i){if(1&n&&(t.ynx(0),t.YNc(1,h,5,3,"ng-container",10),t.TgZ(2,"li",11),t.YNc(3,T,2,0,"ng-container",10),t.TgZ(4,"div",12),t.YNc(5,Z,3,1,"ng-container",10),t.YNc(6,Q,2,2,"ng-container",10),t.TgZ(7,"div",13),t.YNc(8,C,2,1,"ng-container",10),t.TgZ(9,"div",14)(10,"div",15),t._uU(11),t.ALo(12,"date"),t.qZA(),t.YNc(13,w,5,2,"ng-container",10),t.qZA(),t.YNc(14,J,2,1,"ng-container",10),t.qZA()()(),t.BQk()),2&n){const e=i.$implicit,c=i.index,L=i.first,M=i.last,x=t.oxw(2).ngIf,f=t.oxw();t.xp6(1),t.Q6J("ngIf",L||!f.isSameDay(e.date,x[c-1].date)),t.xp6(2),t.Q6J("ngIf",!M&&f.isSameDay(e.date,x[c+1].date)),t.xp6(2),t.Q6J("ngIf",e.icon&&!e.image),t.xp6(1),t.Q6J("ngIf",e.image),t.xp6(2),t.Q6J("ngIf",e.description),t.xp6(3),t.hij(" ",t.xi3(12,8,e.date,"MMM dd, h:mm a")," "),t.xp6(2),t.Q6J("ngIf",e.linkedContent),t.xp6(1),t.Q6J("ngIf",e.extraContent)}}function S(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",8)(2,"ol"),t.YNc(3,B,15,11,"ng-container",9),t.qZA()(),t.BQk()),2&n){const e=t.oxw().ngIf,c=t.oxw();t.xp6(3),t.Q6J("ngForOf",e)("ngForTrackBy",c.trackByFn)}}function Y(n,i){if(1&n&&(t.ynx(0),t.YNc(1,S,4,2,"ng-container",5),t.BQk()),2&n){const e=i.ngIf;t.oxw();const c=t.MAs(12);t.xp6(1),t.Q6J("ngIf",e.length)("ngIfElse",c)}}function F(n,i){1&n&&t._uU(0," Loading... ")}function N(n,i){1&n&&t._uU(0," There are is activity at the moment... ")}class g{constructor(i){this._activityService=i}ngOnInit(){this.activities$=this._activityService.activities}isSameDay(i,e){return l.ou.fromISO(i).hasSame(l.ou.fromISO(e),"day")}getRelativeFormat(i){return l.ou.fromISO(i).toRelativeCalendar()}trackByFn(i,e){return e.id||i}}g.\u0275fac=function(i){return new(i||g)(t.Y36(a))},g.\u0275cmp=t.Xpm({type:g,selectors:[["activity"]],decls:13,vars:4,consts:[[1,"relative","flex","flex-col","flex-auto","min-w-0","overflow-hidden"],[1,"flex","flex-col","flex-auto","px-6","py-10","sm:px-16","sm:pt-18","sm:pb-20"],[1,"w-full","max-w-3xl"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"mt-1.5","text-lg","text-secondary"],[4,"ngIf","ngIfElse"],["loading",""],["noActivity",""],[1,"mt-8"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"relative","flex","py-7"],[1,"relative","flex","flex-auto"],[1,"flex","flex-col","flex-auto","items-start"],[1,"flex","flex-col","sm:flex-row","sm:items-center","mt-2","sm:mt-1","sm:space-x-2","text-md","leading-5"],[1,"text-secondary"],[1,"relative","py-2","px-8","text-md","font-medium","leading-5","rounded-full","bg-primary","text-on-primary"],[1,"absolute","top-7","left-5","w-0.5","h-full","-ml-px","bg-gray-300","dark:bg-gray-600"],[1,"flex","shrink-0","items-center","justify-center","w-10","h-10","mr-4","rounded-full","bg-gray-400"],[1,"icon-size-5","text-white",3,"svgIcon"],[1,"shrink-0","w-10","h-10","mr-4","rounded-full","overflow-hidden","object-cover","object-center",3,"src","alt"],[3,"innerHTML"],[1,"hidden","sm:block"],[1,"cursor-pointer","text-primary",3,"routerLink"],["target","_blank",1,"cursor-pointer","text-primary",3,"href"],[1,"mt-4","py-4","px-5","rounded-lg","bg-gray-200","dark:bg-gray-800",3,"innerHTML"]],template:function(i,e){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"All Activities"),t.qZA(),t.TgZ(5,"div",4),t._uU(6,"Application wide activities are listed here as individual items, starting with the most recent."),t.qZA(),t.YNc(7,Y,2,2,"ng-container",5),t.ALo(8,"async"),t.YNc(9,F,1,0,"ng-template",null,6,t.W1O),t.YNc(11,N,1,0,"ng-template",null,7,t.W1O),t.qZA()()()),2&i){const c=t.MAs(10);t.xp6(7),t.Q6J("ngIf",t.lcZ(8,2,e.activities$))("ngIfElse",c)}},dependencies:[m.rH,p.Hw,_.sg,_.O5,_.Ov,_.rS,_.uU],encapsulation:2,changeDetection:0});class r{constructor(i){this._activityService=i}resolve(i,e){return this._activityService.getActivities()}}r.\u0275fac=function(i){return new(i||r)(t.LFG(a))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"});const U=[{path:"",component:g,resolve:{activities:r}}];class s{}s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[m.Bz.forChild(U),p.Ps,d.m]})}}]);